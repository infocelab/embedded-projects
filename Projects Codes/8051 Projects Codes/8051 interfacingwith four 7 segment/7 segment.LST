C51 COMPILER V9.52.0.0   7_SEGMENT                                                         01/10/2015 17:41:15 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE 7_SEGMENT
OBJECT MODULE PLACED IN 7 segment.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE 7 segment.c BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1           
   2          #include<stdio.h>
   3          #include<reg51.h>
   4          unsigned char SetDisplay(unsigned char);
   5          void delay();
   6          sbit eseg1000 = P3^7;
   7          sbit eseg100   = P3^6;
   8          sbit eseg10   = P3^5;
   9          sbit eseg1     = P3^4;
  10           
  11          unsigned char d0,d1,d2,d3;
  12           
  13           
  14          unsigned char SetDisplay(unsigned char value)
  15          {
  16   1                  unsigned char segment[]={0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,0x7f,0x67};  
  17   1         if(value<=10)
  18   1                              return segment[value];
  19   1         else
  20   1                              return 0;
  21   1      }
  22           
  23          //--------------
  24          //Delay Function
  25          //--------------
  26          void delay()
  27          {        
  28   1         int i;          
  29   1         for(i=0; i<500; i++)
  30   1                  i = i + 0;        
  31   1      }                  
  32           
  33          //--------------
  34          //Main Program
  35          //--------------
  36          void main(void)
  37          {
  38   1         unsigned char count = 0;  
  39   1         unsigned long timer = 0;
  40   1         int turn = 1;              
  41   1                  P2 = 0xFF;
  42   1         while(1)
  43   1                  {
  44   2             if(turn==1)                               //7-Seg Display 0
  45   2                              {
  46   3                                          eseg1000=0;
  47   3                                          eseg100=0;
  48   3                                          eseg10=0;
  49   3                                          eseg1=1;
  50   3                                          P2=SetDisplay(d0);
  51   3                                 turn = 2;
  52   3                                 delay();
  53   3                              }
  54   2                              else if(turn==2)       //7-Seg Display 1
  55   2                              {
C51 COMPILER V9.52.0.0   7_SEGMENT                                                         01/10/2015 17:41:15 PAGE 2   

  56   3                                          eseg1=0;
  57   3                                          eseg1000=0;
  58   3                                          eseg100=0;
  59   3                                          eseg10=1;
  60   3                                          P2=SetDisplay(d1);
  61   3                                 turn = 3;
  62   3                                 delay();
  63   3                              }
  64   2                              else if(turn==3)       //7-Seg Display 2
  65   2                              {
  66   3                                          eseg10=0;
  67   3                                          eseg1=0;
  68   3                                          eseg1000=0;
  69   3                                          eseg100=1;
  70   3                                          P2=SetDisplay(d2);
  71   3                                 turn = 0;
  72   3                                 delay();
  73   3                              }
  74   2                              else                                         //7-Seg Display 3
  75   2                              {
  76   3                                          eseg100=0;
  77   3                                          eseg10=0;
  78   3                                          eseg1=0;
  79   3                                          eseg1000=1;
  80   3                         P2=SetDisplay(d3);
  81   3                                 turn = 1;
  82   3                                 delay();
  83   3                              }
  84   2       
  85   2             if(timer == 100){
  86   3                             d0++;
  87   3                         timer=0;
  88   3                                          if(d0>=10){ 
  89   4                                 d0=0;
  90   4                                          d1++;
  91   4                                                      if(d1>=10){
  92   5                                                      d1=0;
  93   5                                                      d2++;
  94   5                                                                  if(d2>=10){
  95   6                                                                              d2=0;
  96   6                                                                              d3++;
  97   6                                                                              if(d3>=10){
  98   7                                                                                          d3=0;
  99   7                                                                              }
 100   6                                                                  }
 101   5                                             }
 102   4                                          }
 103   3                     }
 104   2                  timer++;       
 105   2         }
 106   1      }
 107           


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    280    ----
   CONSTANT SIZE    =     10    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4      16
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
C51 COMPILER V9.52.0.0   7_SEGMENT                                                         01/10/2015 17:41:15 PAGE 3   

END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
